{% extends "base.html" %} {% block content %}
<div class="container mt-5">
  <div class="row justify-content-center">
    <div class="col-md-6">
      <h2 class="text-center mb-4">Iniciar sesión</h2>

      {% if form.errors %}
      <div class="alert alert-danger" role="alert">
        Nombre de usuario o contraseña incorrectos. Inténtelo de nuevo.
      </div>
      {% endif %} {% if next %} {% if user.is_authenticated %}
      <div class="alert alert-warning" role="alert">
        Su cuenta no tiene acceso a esta página. Inicie sesión con una cuenta
        que tenga permisos.
      </div>
      {% else %}
      <div class="alert alert-info" role="alert">
        Por favor, inicie sesión para acceder a esta página.
      </div>
      {% endif %} {% endif %}

      <form method="post" action="{% url 'login' %}">
        {% csrf_token %}

        <!-- Renderiza todos los campos de forma automática con el estilo adecuado si has configurado los atributos -->
        {{ form.as_p }}

        <input type="hidden" name="next" value="{{ next }}" />

        <button type="submit" class="btn btn-primary btn-block">
          Iniciar sesión
        </button>
      </form>

      <p class="mt-3 text-center">
        <a href="{% url 'password_reset' %}">¿Olvidó su contraseña?</a>
      </p>
    </div>
  </div>
</div>
{% endblock %}
